<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
</head>
<body>
    <h1>Reset Password</h1>
    <form id='password-form'>
        <input type="password" placeholder="New Password" id="password">
        <input type="password", placeholder="Confirm Password" id="password2">
        <input type="submit" value="Submit"></input>
    </form>
</body>
<script>
    var resetPasssword = async (event) => {
        event.preventDefault();
        const password = document.getElementById('password').value;
        const password2 = document.getElementById('password2').value;

        if(password !== password2){
                alert('Passwords do not match,Please try again');
                return;
        }

        var res = await fetch('/api/user/reset-password',{
            method: 'POST',
            headers: {
                'Content-Type':'application/json'
            },
            body: JSON.stringify({
                plainUserPassword:password,
                userid:"<%= userid %>",
                token:"<%= token %>"
            })
        });
        var resJson = await res.json();
        console.log(resJson);
        if(resJson.status === 'ok'){
            console.log("Password changed successfully!");
        }
        else{
            console.log("An error has occured while changing password!!");
        }
    }
    const form = document.getElementById('password-form');
    form.addEventListener('submit',resetPasssword);
</script>
</html> -->


<!doctype html>
<html lang="en-US">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>Reset Password Email Template</title>
    <meta name="description" content="Reset Password Email Template.">
    <style type="text/css">
        @import url(http://fonts.googleapis.com/css?family=Raleway:700,800);

        html, body { margin: 0; }

        :focus { outline: none; }
        ::-webkit-input-placeholder { color: #DEDFDF; }
        ::-moz-placeholder { color: #DEDFDF; }
        :-moz-placeholder { color: #DEDFDF; }
        ::-ms-input-placeholder { color: #DEDFDF; }

        body {
        background: #6ED0F6;
        color: #fff;
        font-family: 'Raleway', sans-serif;
        -webkit-font-smoothing: antialiased;
        }

        #wrapper, label, #arrow, button span { transition: all .5s cubic-bezier(.6,0,.4,1); }

        #wrapper { overflow: hidden; }

        #signin:checked ~ #wrapper { height: 178px; }
        #signin:checked ~ #wrapper #arrow { left: 32px; }
        #signin:checked ~ button span { transform: translate3d(0,-72px,0); }

        #signup:checked ~ #wrapper { height: 262px; }
        #signup:checked ~ #wrapper #arrow { left: 137px; }
        #signup:checked ~ button span { transform: translate3d(0,-144px,0); }

        #reset:checked ~ #wrapper { height: 94px; }
        #reset:checked ~ #wrapper #arrow { left: 404px; }
        #reset:checked ~ button span { transform: translate3d(0,0,0); }

        form {
        width: 450px;
        height: 370px;
        margin: -185px -225px;
        position: absolute;
        left: 50%;
        top: 50%;
        }

        input[type=radio] { display: none; }

        label {
        cursor: pointer;
        display: inline-block;
        font-size: 22px;
        font-weight: 800;
        opacity: .5;
        margin-bottom: 30px;
        text-transform: uppercase;
        }
        label:hover {
        transition: all .3s cubic-bezier(.6,0,.4,1);
        opacity: 1;
        }
        label[for="signin"] { margin-right: 20px; }
        label[for="reset"] { float: right; }
        input[type=radio]:checked + label { opacity: 1; }

        input[type=text],
        input[type=password] {
        background: #fff;
        border: none;
        border-radius: 8px;
        font-size: 27px;
        font-family: 'Raleway', sans-serif;
        height: 72px;
        width: 99.5%;
        margin-bottom: 10px;
        opacity: 1;
        text-indent: 20px;
        transition: all .2s ease-in-out;
        }
        button {
        background: #079BCF;
        border: none;
        border-radius: 8px;
        color: #fff;
        cursor: pointer;
        font-family: 'Raleway', sans-serif;
        font-size: 27px;
        height: 72px;
        width: 100%;
        margin-bottom: 10px;
        overflow: hidden;
        transition: all .3s cubic-bezier(.6,0,.4,1);
        }
        button span {
        display: block;
        line-height: 72px;
        position: relative;
        top: -2px;
        transform: translate3d(0,0,0);
        }
        button:hover {
        background: #007BA5;
        }

        #arrow {
        height: 0;
        width: 0;
        border-bottom: 10px solid #fff;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        position: relative;
        left: 32px;
        }


        #hint {
        width: 100%;
        text-align: center;
        position: absolute;
        bottom: 20px;
        }
    </style>
</head>

<body>
    <form id='password-form'>
      <div id="wrapper">
        
        <input id="password" placeholder="New Password" type="password">
        <input id="password1" placeholder="Confirm password" type="password">
      </div>
      <button type="submit" value="submit">
          Reset password
      </button>
    </form>
    <div id="hint">Powered By @ EasyAuth</div>
</body>

<script>
    var resetPasssword = async (event) => {

        event.preventDefault();
        const password = document.getElementById('password').value;
        const password2 = document.getElementById('password1').value;

        if(password !== password2){
                alert('Passwords do not match,Please try again');
                return;
        }

        var res = await fetch('/api/user/reset-password',{
            method: 'POST',
            headers: {
                'Content-Type':'application/json'
            },
            body: JSON.stringify({
                plainUserPassword:password,
                userid:"<%= userid %>",
                token:"<%= token %>"
            })
        });
        var resJson = await res.json();
        console.log(resJson);
        if(resJson.status === 'ok'){
            console.log("Password changed successfully!");
        }
        else{
            console.log("An error has occured while changing password!!");
        }
    }
    const form = document.getElementById('password-form');
    form.addEventListener('submit',resetPasssword);
</script>

</html>